import e,{useContext as t}from"react";import n from"../../../icon/index.js";import{JSDCContext as a}from"../../../JSDC/Context/index.js";import c from"../../Icons/NavigatorArrow.js";import{DuiContext as i}from"../../Context/index.js";var l=function(l){var r,o,s=l.title,m=void 0===s?"...":s,d=l.subtitle,p=void 0===d?"...":d,u=l.imgSrc,E=void 0===u?n.others.processing:u,v=l.mainTextContent,h=void 0===v?"...":v,f=l.credit,C=void 0===f?"　:　":f,N=l.innerRef,g=l.sceneLatLng,k=l.userLatLng,I=l.checkinSrc,b=l.validDistance,x=void 0===b?1/0:b,j=l.onCheckin,P=void 0===j?function(){return null}:j,S=t(a).Jsdc,w=t(i),L=k&&g?g.distanceTo(k):1/0,B=L===1/0?"----":(r=Math.floor(L),(o=r.toString().split("."))[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),o.join(".")),D=L<x;return e.createElement("div",{className:"dui-CheckInPopup",ref:N},e.createElement("div",{className:"dui-CheckInPopup-Kanban"},e.createElement("img",{src:E}),e.createElement("div",{className:"dui-CheckInPopup-action"},k?D?e.createElement(e.Fragment,null,e.createElement("span",null,"距離景點",e.createElement("span",{id:"distance"},B),"公尺"),e.createElement("span",null,"請集章！")):e.createElement(e.Fragment,null,e.createElement("span",null,"距離景點還有",e.createElement("span",null,B),"公尺"),e.createElement("span",null,"距離太遠囉!")):e.createElement("span",null,"尚未取得定位"),e.createElement("button",{className:"action-btn",id:"checkinBtn",disabled:!D,onClick:function(){return function(){if(D){var e=I||"https://map.jsdc.com.tw/tools/checkin/ci.php?s=".concat(window.btoa(encodeURI("".concat(S.id,":").concat(m))));P(e)}}()}},"數位集章"))),e.createElement("p",{className:"dui-CheckInPopup-geonavigator",onClick:function(){return w.onSceneNavigate(m)}},e.createElement(c,null)),e.createElement("div",{className:"dui-CheckInPopup-artical"},e.createElement("div",{className:"header"},e.createElement("p",{className:"title"},m),e.createElement("p",{className:"subtitle"},p)),e.createElement("div",{className:"content"},h),e.createElement("div",{className:"CheckInPopup-credit"},e.createElement("span",null,C))))};l.displayName="CheckInCard";export{l as default};
//# sourceMappingURL=index.js.map
