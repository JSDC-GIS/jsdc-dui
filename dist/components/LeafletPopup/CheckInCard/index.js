import e,{useContext as t}from"react";import n from"../../../icon/index.js";import{JSDCContext as a}from"../../../JSDC/Context/index.js";import c from"../../Icons/NavigatorArrow.js";import{DuiContext as l}from"../../Context/index.js";var i=function(i){var r,o,s=i.title,m=void 0===s?"...":s,d=i.subtitle,p=void 0===d?"...":d,u=i.imgSrc,E=void 0===u?n.others.processing:u,v=i.mainTextContent,f=void 0===v?"...":v,h=i.credit,C=void 0===h?"　:　":h,N=i.innerRef,g=i.sceneLatLng,k=i.userLatLng,I=i.onCheckin,b=void 0===I?function(){return null}:I,x=t(a).Jsdc,j=t(l),P=k&&g?g.distanceTo(k):1/0,w=P===1/0?"----":(r=Math.floor(P),(o=r.toString().split("."))[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),o.join(".")),L=P<Infinity;return e.createElement("div",{className:"dui-CheckInPopup",ref:N},e.createElement("div",{className:"dui-CheckInPopup-Kanban"},e.createElement("img",{src:E}),e.createElement("div",{className:"dui-CheckInPopup-action"},k?L?e.createElement(e.Fragment,null,e.createElement("span",null,"距離景點",e.createElement("span",{id:"distance"},w),"公尺"),e.createElement("span",null,"請集章！")):e.createElement(e.Fragment,null,e.createElement("span",null,"距離景點還有",e.createElement("span",null,w),"公尺"),e.createElement("span",null,"距離太遠囉!")):e.createElement("span",null,"尚未取得定位"),e.createElement("button",{className:"action-btn",id:"checkinBtn",disabled:!L,onClick:function(){return function(){if(L){var e="https://map.jsdc.com.tw/tools/checkin/ci.php?s=".concat(window.btoa(encodeURI("".concat(x.id,":").concat(m))));b(e)}}()}},"數位集章"))),e.createElement("p",{className:"dui-CheckInPopup-geonavigator",onClick:function(){return j.onSceneNavigate(m)}},e.createElement(c,null)),e.createElement("div",{className:"dui-CheckInPopup-artical"},e.createElement("div",{className:"header"},e.createElement("p",{className:"title"},m),e.createElement("p",{className:"subtitle"},p)),e.createElement("div",{className:"content"},f),e.createElement("div",{className:"CheckInPopup-credit"},e.createElement("span",null,C))))};i.displayName="CheckInCard";export{i as default};
//# sourceMappingURL=index.js.map
