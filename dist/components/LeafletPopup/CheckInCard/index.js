import e,{useContext as t}from"react";import n from"../../../icon/index.js";import{JSDCContext as a}from"../../../JSDC/Context/index.js";import c from"../../Icons/NavigatorArrow.js";import{DuiContext as i}from"../../Context/index.js";var l=function(l){var r,o,s=l.title,m=void 0===s?"...":s,d=l.subtitle,p=void 0===d?"...":d,u=l.imgSrc,E=void 0===u?n.others.processing:u,v=l.mainTextContent,f=void 0===v?"...":v,h=l.credit,C=void 0===h?"　:　":h,N=l.innerRef,g=l.sceneLatLng,k=l.userLatLng,I=l.checkinSrc,b=l.onCheckin,x=void 0===b?function(){return null}:b,j=t(a).Jsdc,P=t(i),S=k&&g?g.distanceTo(k):1/0,w=S===1/0?"----":(r=Math.floor(S),(o=r.toString().split("."))[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),o.join(".")),L=S<Infinity;return e.createElement("div",{className:"dui-CheckInPopup",ref:N},e.createElement("div",{className:"dui-CheckInPopup-Kanban"},e.createElement("img",{src:E}),e.createElement("div",{className:"dui-CheckInPopup-action"},k?L?e.createElement(e.Fragment,null,e.createElement("span",null,"距離景點",e.createElement("span",{id:"distance"},w),"公尺"),e.createElement("span",null,"請打卡！")):e.createElement(e.Fragment,null,e.createElement("span",null,"距離景點還有",e.createElement("span",null,w),"公尺"),e.createElement("span",null,"距離太遠囉!")):e.createElement("span",null,"尚未取得定位"),e.createElement("button",{className:"action-btn",id:"checkinBtn",disabled:!L,onClick:function(){return function(){if(L){var e=I||"https://map.jsdc.com.tw/tools/checkin/ci.php?s=".concat(window.btoa(encodeURI("".concat(j.id,":").concat(m))));x(e)}}()}},"數位集章"))),e.createElement("p",{className:"dui-CheckInPopup-geonavigator",onClick:function(){return P.onSceneNavigate(m)}},e.createElement(c,null)),e.createElement("div",{className:"dui-CheckInPopup-artical"},e.createElement("div",{className:"header"},e.createElement("p",{className:"title"},m),e.createElement("p",{className:"subtitle"},p)),e.createElement("div",{className:"content"},f),e.createElement("div",{className:"CheckInPopup-credit"},e.createElement("span",null,C))))};l.displayName="CheckInCard";export{l as default};
//# sourceMappingURL=index.js.map
