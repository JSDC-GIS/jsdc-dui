import e from"./module/ViewerPromise.js";import o,{Map as i}from"leaflet";import{defaults as r}from"lodash";import t from"./Controller/index.js";import n from"./extends/location.js";import s from"./extends/zoomHome.js";import{iconRetinaUrl as l,iconUrl as m,shadowUrl as h}from"./utils/markerImages.js";import a from"./utils/Event.js";var p=o.icon({iconRetinaUrl:l,iconUrl:m,shadowUrl:h,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});o.Marker.prototype.options.icon=p;var c=function(){function o(o,i){void 0===i&&(i={}),this.viewerPromise=new e,this.Controller=new t("JSDCController"),this.userGeolocationUpdateEvent=new a,this.id=o,this.viewer=void 0,this.mapOption=i}return Object.defineProperty(o.prototype,"asyncViewer",{get:function(){return this.viewerPromise.asyncViewer},enumerable:!1,configurable:!0}),o.prototype.createViewer=function(e){void 0===e&&(e=this.mapOption);var o=r(e,{center:[24.86471,121.29002],zoom:13});try{this.viewer=new i(this.id,o),e.bound&&this.viewer.flyToBounds(e.bound),this.viewer.zoomControl.setPosition("topright"),this.viewer.addControl(new n({Jsdc:this})),this.viewer.addControl(new s({Jsdc:this})),this.Controller.init(this.viewer),this.viewerPromise.setViewer(this.viewer)}catch(e){console.log("ignore Map initialize")}return this.viewer},o}();export{c as default};
//# sourceMappingURL=index.js.map
