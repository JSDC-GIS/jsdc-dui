import{__awaiter as r,__generator as n}from"../../../node_modules/tslib/tslib.es6.js";import{MarkerClusterGroup as e}from"leaflet";import{useRef as t,useState as o,useEffect as i}from"react";var u=function(u,c){void 0===c&&(c={});var a=c.layers,s=void 0===a?[]:a,f=c.config,d=t(new e(void 0===f?{showCoverageOnHover:!1}:f)),v=t([]),h=o(!0),l=h[0],w=h[1],m=function(r){r.instance&&(d.current.addLayer(r.instance),function(r){r.instance&&(r.show=!1,v.current.push(r))}(r))};return i((function(){!function(){r(this,void 0,void 0,(function(){var r;return n(this,(function(n){switch(n.label){case 0:return[4,u];case 1:return r=n.sent(),s.forEach((function(r){return m(r)})),r.addLayer(d.current),[2]}}))}))}()}),[]),{show:l,addLayer:m,toggleShowCluster:function(){if(l)return r(void 0,void 0,void 0,(function(){return n(this,(function(r){switch(r.label){case 0:return[4,u];case 1:return r.sent().removeLayer(d.current),v.current.forEach((function(r){return r.show=!0})),w(!1),[2]}}))}));r(void 0,void 0,void 0,(function(){var r;return n(this,(function(n){switch(n.label){case 0:return[4,u];case 1:return(r=n.sent()).removeLayer(d.current),r.addLayer(d.current),v.current.forEach((function(r){return r.show=!1})),w(!0),[2]}}))}))}}};export{u as default};
//# sourceMappingURL=useCluster.js.map
