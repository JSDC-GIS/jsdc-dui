import t from"./speedometer.js";import o from"./throttle.js";import e from"../utils.js";const l=(e,l,r=3)=>{let a=0;const d=t(50,250);return o((t=>{const o=t.loaded,r=t.lengthComputable?t.total:void 0,s=o-a,n=d(s);a=o;e({loaded:o,total:r,progress:r?o/r:void 0,bytes:s,rate:n||void 0,estimated:n&&r&&o<=r?(r-o)/n:void 0,event:t,lengthComputable:null!=r,[l?"download":"upload"]:!0})}),r)},r=(t,o)=>{const e=null!=t;return[l=>o[0]({lengthComputable:e,total:t,loaded:l}),o[1]]},a=t=>(...o)=>e.asap((()=>t(...o)));export{a as asyncDecorator,r as progressEventDecorator,l as progressEventReducer};
//# sourceMappingURL=progressEventReducer.js.map
