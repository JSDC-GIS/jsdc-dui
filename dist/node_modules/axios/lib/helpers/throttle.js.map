{"version":3,"file":"throttle.js","sources":["../../../../../node_modules/axios/lib/helpers/throttle.js"],"sourcesContent":["/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn(...args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n"],"names":["throttle","fn","freq","lastArgs","timer","timestamp","threshold","invoke","args","now","Date","clearTimeout","passed","setTimeout"],"mappings":"AAMA,SAASA,EAASC,EAAIC,GACpB,IAEIC,EACAC,EAHAC,EAAY,EACZC,EAAY,IAAOJ,EAIvB,MAAMK,EAAS,CAACC,EAAMC,EAAMC,KAAKD,SAC/BJ,EAAYI,EACZN,EAAW,KACPC,IACFO,aAAaP,GACbA,EAAQ,MAEVH,KAAMO,IAqBR,MAAO,CAlBW,IAAIA,KACpB,MAAMC,EAAMC,KAAKD,MACXG,EAASH,EAAMJ,EAChBO,GAAUN,EACbC,EAAOC,EAAMC,IAEbN,EAAWK,EACNJ,IACHA,EAAQS,YAAW,KACjBT,EAAQ,KACRG,EAAOJ,KACNG,EAAYM,MAKP,IAAMT,GAAYI,EAAOJ"}