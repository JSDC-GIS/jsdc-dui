import e from"../cancel/CanceledError.js";import r from"../core/AxiosError.js";import o from"../utils.js";var t=(t,n)=>{const{length:s}=t=t?t.filter(Boolean):[];if(n||s){let s,i=new AbortController;const a=function(o){if(!s){s=!0,l();const t=o instanceof Error?o:this.reason;i.abort(t instanceof r?t:new e(t instanceof Error?t.message:t))}};let c=n&&setTimeout((()=>{c=null,a(new r(`timeout ${n} of ms exceeded`,r.ETIMEDOUT))}),n);const l=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),t=null)};t.forEach((e=>e.addEventListener("abort",a)));const{signal:u}=i;return u.unsubscribe=()=>o.asap(l),u}};export{t as default};
//# sourceMappingURL=composeSignals.js.map
